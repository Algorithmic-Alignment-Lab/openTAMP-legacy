With resampling
before optimization 
array([[ 0.9  ,  0.9  ,  0.9  ,  0.9  ,  0.9  ,  0.9  ,  0.8  ],
       [-0.447, -0.423, -0.377, -0.304, -0.418, -0.521, -0.519],
       [ 0.724,  0.686,  0.666,  0.67 ,  0.658,  0.652,  0.855],
       [ 1.705,  1.565,  1.402,  1.205,  1.262,  1.296,  1.295],
       [-2.676, -2.692, -2.711, -2.737, -2.655, -2.575, -2.606],
       [ 1.524,  1.399,  1.274,  1.143,  1.119,  1.084,  1.101],
       [ 2.386,  2.365,  2.331,  2.278,  2.251,  2.211,  2.053]])

array([[ 0.113,  0.113,  0.113,  0.113,  0.113,  0.113,  0.113]])

after optimization

array([[ 0.9  ,  0.9  ,  0.9  ,  0.895,  0.9  ,  0.9  ,  0.8  ],
       [-0.447, -0.423, -0.377, -0.314, -0.418, -0.521, -0.519],
       [ 0.724,  0.686,  0.666,  0.671,  0.658,  0.652,  0.855],
       [ 1.667,  1.533,  1.4  ,  1.267,  1.262,  1.296,  1.295],
       [-2.676, -2.692, -2.711, -2.738, -2.655, -2.575, -2.606],
       [ 1.524,  1.399,  1.274,  1.152,  1.119,  1.084,  1.101],
       [ 2.386,  2.365,  2.331,  2.281,  2.251,  2.211,  2.053]])

array([[ 0.106,  0.106,  0.106,  0.106,  0.106,  0.106,  0.106]])

Without any resample
before optimization
array([[ 0.163,  0.205,  0.235,  0.248,  0.336,  0.356,  0.373],
       [-0.37 , -0.435, -0.508, -0.601, -0.566, -0.6  , -0.638],
       [ 1.279,  1.274,  1.289,  1.266,  1.193,  1.141,  1.091],
       [ 1.677,  1.642,  1.596,  1.5  ,  1.61 ,  1.612,  1.616],
       [-2.539, -2.569, -2.601, -2.664, -2.688, -2.689, -2.687],
       [ 0.841,  0.854,  0.872,  0.922,  0.793,  0.803,  0.812],
       [ 1.585,  1.667,  1.749,  1.831,  1.864,  1.92 ,  1.977]])

array([[ 0.113,  0.113,  0.113,  0.113,  0.113,  0.113,  0.113]])

after optimization

array([[ 0.184,  0.226,  0.256,  0.267,  0.34 ,  0.362,  0.378],
       [-0.35 , -0.414, -0.487, -0.586, -0.545, -0.579, -0.625],
       [ 1.288,  1.253,  1.31 ,  1.246,  1.179,  1.128,  1.075],
       [ 1.698,  1.664,  1.618,  1.488,  1.591,  1.592,  1.595],
       [-2.545, -2.547, -2.58 , -2.666, -2.687, -2.687, -2.692],
       [ 0.82 ,  0.833,  0.851,  0.943,  0.78 ,  0.792,  0.799],
       [ 1.564,  1.646,  1.728,  1.843,  1.865,  1.924,  1.977]])

array([[ 0.134,  0.134,  0.134,  0.134,  0.134,  0.134,  0.134]])

resample with 100 times more penalty for un_free_obj
before optimization
array([[ 0.9  ,  0.9  ,  0.9  ,  0.9  ,  0.9  ,  0.9  ,  0.8  ],
       [-0.447, -0.423, -0.377, -0.304, -0.418, -0.521, -0.519],
       [ 0.724,  0.686,  0.666,  0.67 ,  0.658,  0.652,  0.855],
       [ 1.705,  1.565,  1.402,  1.205,  1.262,  1.296,  1.295],
       [-2.676, -2.692, -2.711, -2.737, -2.655, -2.575, -2.606],
       [ 1.524,  1.399,  1.274,  1.143,  1.119,  1.084,  1.101],
       [ 2.386,  2.365,  2.331,  2.278,  2.251,  2.211,  2.053]])

array([[ 0.113,  0.113,  0.113,  0.113,  0.113,  0.113,  0.113]])

after optimization

array([[ 0.616,  0.786,  0.89 ,  0.89 ,  0.89 ,  0.873,  0.703],
       [-0.457, -0.433, -0.387, -0.314, -0.428, -0.531, -0.53 ],
       [ 0.804,  0.676,  0.656,  0.66 ,  0.648,  0.642,  0.845],
       [ 1.652,  1.519,  1.386,  1.252,  1.252,  1.286,  1.365],
       [-2.686, -2.702, -2.721, -2.747, -2.665, -2.585, -2.616],
       [ 1.304,  1.389,  1.264,  1.133,  1.109,  1.074,  1.052],
       [ 2.144,  2.355,  2.321,  2.268,  2.241,  2.201,  2.043]])

array([[ 0.103,  0.103,  0.103,  0.103,  0.103,  0.103,  0.103]])


resample with 10 times more penalty for un_free_obj
before optimization
array([[ 0.9  ,  0.9  ,  0.9  ,  0.9  ,  0.9  ,  0.9  ,  0.8  ],
       [-0.447, -0.423, -0.377, -0.304, -0.418, -0.521, -0.519],
       [ 0.724,  0.686,  0.666,  0.67 ,  0.658,  0.652,  0.855],
       [ 1.705,  1.565,  1.402,  1.205,  1.262,  1.296,  1.295],
       [-2.676, -2.692, -2.711, -2.737, -2.655, -2.575, -2.606],
       [ 1.524,  1.399,  1.274,  1.143,  1.119,  1.084,  1.101],
       [ 2.386,  2.365,  2.331,  2.278,  2.251,  2.211,  2.053]])

array([[ 0.113,  0.113,  0.113,  0.113,  0.113,  0.113,  0.113]])

after optimization
array([[ 0.9  ,  0.9  ,  0.9  ,  0.895,  0.9  ,  0.9  ,  0.8  ],
       [-0.447, -0.423, -0.377, -0.314, -0.418, -0.521, -0.519],
       [ 0.724,  0.686,  0.666,  0.671,  0.658,  0.652,  0.855],
       [ 1.667,  1.533,  1.4  ,  1.267,  1.262,  1.296,  1.295],
       [-2.676, -2.692, -2.711, -2.738, -2.655, -2.575, -2.606],
       [ 1.524,  1.399,  1.274,  1.152,  1.119,  1.084,  1.101],
       [ 2.386,  2.365,  2.331,  2.281,  2.251,  2.211,  2.053]])

array([[ 0.106,  0.106,  0.106,  0.106,  0.106,  0.106,  0.106]])


np.round(robot.rArmPose[:, 27:34], 3)
np.round(robot.pose[:, 27:34], 3)
